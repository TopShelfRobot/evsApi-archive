@using System.Web.Optimization
@using System.Configuration;
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>@ViewBag.Title - Eventure Sports</title>
    <link href="/Content/images/front-favicon.png" rel="icon" type="image/png" />
    <link href="/Content/images/front-favicon.png" rel="image_src" type="image/png" />
    @*<meta name="viewport" content="width=device-width" />*@
    @Styles.Render("~/Content/login.css")
    @Styles.Render("~/Content/bootstrap.min.css")
    @Scripts.Render("~/scripts/modernizr-2.6.2.js")
</head>
<body>
    @*
    <div id="fb-root"></div>
    <script>
    // Additional JS functions here
    window.fbAsyncInit = function () {
        FB.init({
            appId: '447816931997733', // App ID
            channelUrl: '//www.mikeboone.biz/channel.html', // Channel File
            status: true, // check login status
            cookie: true, // enable cookies to allow the server to access the session
            xfbml: true  // parse XFBML
        });

        // Additional init code here
        // Here we subscribe to the auth.authResponseChange JavaScript event. This event is fired
        // for any authentication related change, such as login, logout or session refresh. This means that
        // whenever someone who was previously logged out tries to log in again, the correct case below 
        // will be handled. 
        FB.Event.subscribe('auth.authResponseChange', function(response) {
            // Here we specify what we do with the response anytime this event occurs. 
            if (response.status === 'connected') {
                // The response object is returned with a status field that lets the app know the current
                // login status of the person. In this case, we're handling the situation where they 
                // have logged in to the app.
                testAPI();
            } else if (response.status === 'not_authorized') {
                // In this case, the person is logged into Facebook, but not into the app, so we call
                // FB.login() to prompt them to do so. 
                // In real-life usage, you wouldn't want to immediately prompt someone to login 
                // like this, for two reasons:
                // (1) JavaScript created popup windows are blocked by most browsers unless they 
                // result from direct interaction from people using the app (such as a mouse click)
                // (2) it is a bad experience to be continually prompted to login upon page load.
                //submitLoginForm();
                FB.login();
            } else {
                // In this case, the person is not logged into Facebook, so we call the login() 
                // function to prompt them to do so. Note that at this stage there is no indication
                // of whether they are logged into the app. If they aren't then they'll see the Login
                // dialog right after they log in to Facebook. 
                // The same caveats as above apply to the FB.login() call here.
                FB.login();
            }
        });
    };


    // Load the SDK asynchronously
    (function (d) {
        var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
        if (d.getElementById(id)) { return; }
        js = d.createElement('script'); js.id = id; js.async = true;
        js.src = "//connect.facebook.net/en_US/all.js";
        ref.parentNode.insertBefore(js, ref);
    }(document));
    
    function testAPI() {
        console.log('Welcome!  Fetching your information.... ');
        FB.api('/me', function (response) {
            console.log('Good to see you, ' + response.name + '.');
        });
    }
    
    function submitLoginForm() {
        //console.log('Welcome!  Fetching your information.... ');
        alert('this is working');
        //alert('2: ' + ReturnUrl);
        //response.redirect('/reg/1');
        //window.location.href = '/reg/1';
        alert('still working');
        //FB.api('/me', function (response) {
        //    console.log('Good to see you, ' + response.name + '.');
        //});
    }
    
    //submitLoginForm();


    </script>*@
    <header>
        @*<div class="content-wrapper">
            <div class="float-left">
                <p class="site-title">@Html.ActionLink("your logo here", "Index", "Home")</p>
            </div>
            <div class="float-right">
                <section id="login">
                    @Html.Partial("_LoginPartial")
                </section>
                <nav>
                    <ul id="menu">
                        <li>@Html.ActionLink("Home", "Index", "Home")</li>
                        <li>@Html.ActionLink("About", "About", "Home")</li>
                        <li>@Html.ActionLink("Contact", "Contact", "Home")</li>
                    </ul>
                </nav>
            </div>
        </div>*@
    </header>
    <div id="body">
        <div class="loginwrap">
            <div class="container">
                <div class="row">
                    <div class="hidden-sm col-sm-2 col-lg-4"></div>
                    <div class="col-12 col-sm-8 col-lg-4 divbackground">
                        <div class="row">
                            <div class="signindiv">
                                <div class="text-center">
                                    <a href="@Url.Action(null, new { ReturnUrl = ViewBag.ReturnUrl })">


                                        <img src="/Content/images/logo.png" alt="Main Menu" />

                                        @* @if (ViewBag.owner == "1")
                                        {   
                                            <img src="/Content/images/logo.png" alt="Headfirst" />
                                        }
                                        else
                                        {
                                            <img src="/Content/images/Eventure_Sports_Icon.png" alt="Eventure Sports" />
                                        }*@

                                        @*
                                        <img src="/Content/images/logo.png" alt="Main Menu" />*@

                                        @*     @string customName = ConfigurationManager.AppSettings["CustomName"];
                
                                        @switch (customName)
                                        {
                                            case "headfirst":
                                                
                                                <img src="/Content/images/logo.png" alt="Headfirst" />

                                        break;
                                            case "titan":

                                                 <img src="/Content/images/logo.png" alt="Headfirst" />
                                        break;
                                            default:
                                            <img src="/Content/images/Eventure_Sports_Icon.png" alt="Eventure Sports" />

                                        break;
                                        }*@



                                    </a>
                                    <hr />
                                    <section class="social" id="socialLoginForm">
                                        @Html.Action("ExternalLoginsList","Account", new { ReturnUrl = ViewBag.ReturnUrl })

                                        <h4 class="logindivider">or</h4>
                                        @*
                                        <h4 class="text-center">Sign In With Your Headfirst Account Below!</h4>*@
                                    </section>
                                </div>

                                @RenderSection("featured", required: false)
                                <section class="content-wrapper main-content clear-fix">
                                    @RenderBody()
                                </section>
                            </div>
                            <!-- /signindiv -->
                        </div>
                        <!-- /row -->

                    </div>
                    <!-- /col-6 col-sm-6 col-lg-6 -->
                    <div class="hidden-sm col-sm-2 col-lg-4"></div>
                </div>
                <!-- /row -->
            </div>
            <!-- /container -->
        </div>
        <!-- /loginwrap -->
    </div>
    <footer>
        @*
        <div class="content-wrapper">
            <div class="float-left">
                <p>&copy; @DateTime.Now.Year - My ASP.NET MVC Application</p>
            </div>
        </div>*@
    </footer>
    @Scripts.Render("~/scripts")
    @RenderSection("scripts", required: false)
</body>
</html>
